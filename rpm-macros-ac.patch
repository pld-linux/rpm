--- rpm-4.5/macros.in~	2012-11-08 05:26:29.000000000 +0200
+++ rpm-4.5/macros.in	2012-11-08 05:27:22.400874103 +0200
@@ -243,8 +243,8 @@
 %_srcrpmdir		%{_topdir}/SRPMS
 
 #	Directory where temporary files can be created.
-%_tmppath		%(echo "${TMPDIR:-/tmp}")
-%tmpdir			%{_tmppath}
+%_tmppath		%{expand:%%global _tmppath %(echo "${TMPDIR:-/tmp}")}%_tmppath
+%tmpdir			%{expand:%%global tmpdir %(echo "${TMPDIR:-/tmp}")}%tmpdir
 
 #	Path to top of build area.
 %_topdir		%(echo $HOME)/rpm
@@ -277,6 +277,9 @@
 #
 #%distribution
 
+# PLD Linux Release
+%pld_release	ac
+
 #	Configurable distribution URL, same as DistURL: tag in a specfile.
 #	The URL will be used to supply reliable information to tools like
 #	rpmfind.
@@ -1178,6 +1181,7 @@
 %_infodir		%{_prefix}/share/info
 %_mandir		%{_prefix}/share/man
 %_localedir		%{_datadir}/locale
+%_x_libraries	/usr/X11R6/%{_lib}
 
 #==============================================================================
 # ---- config.guess platform macros.
@@ -1482,9 +1482,12 @@
 #-----------------------------------------------------------------
 # CFLAGS and LDFLAGS used to build
 
-%debuginfocflags	%{expand:%%define __dic_%{?_enable_debug_packages} 1}%{?__dic_1: -gdwarf-4 -fno-debug-types-section -g2}%{expand:%%undefine __dic_%{?_enable_debug_packages}}
+%debuginfocflags	%{expand:%%define __dic_%{?_enable_debug_packages} 1}%{?__dic_1: -gdwarf-2 -g2}%{expand:%%undefine __dic_%{?_enable_debug_packages}}
 
 %debugcflags	-O0 -g -Wall
+%debugcppflags	%{nil}
+%optldflags		-Wl,--as-needed
+%optcppflags	%{nil}
 
 # Warning: those macros are overwritten by macros.build,
 #          left here for compatibility
@@ -1497,7 +1504,7 @@
 #
 # Note: Used if _use_internal_dependency_generator is non-zero. The
 # helper is also used by %{_rpmhome}/rpmdeps --provides
-%__mimetype_provides %{_rpmhome}/mimetypedeps.sh --provides
+#%__mimetype_provides %{_rpmhome}/mimetypedeps.sh --provides
 
 # \endverbatim
 #*/
