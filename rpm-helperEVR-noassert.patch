--- rpm-4.5/lib/rpmfc.c.orig	2012-02-13 20:28:52.564758176 +0100
+++ rpm-4.5/lib/rpmfc.c	2012-02-14 19:01:50.810809655 +0100
@@ -472,7 +472,10 @@
 		}
 		i++;
 		EVR = pav[i];
-assert(EVR != NULL);
+		if(EVR == NULL) {
+			rpmlog(RPMLOG_ERR, _("%s helper returned empty version info for %s, omitting\n"), nsdep, N);
+			continue;
+		}
 	    }
 /*@=branchstate@*/
 
