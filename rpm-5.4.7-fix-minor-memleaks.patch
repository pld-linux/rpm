--- rpm-5.4.7/rpmio/macro.c.memleak~	2012-03-21 19:16:07.453218370 +0100
+++ rpm-5.4.7/rpmio/macro.c	2012-03-21 19:19:33.758488216 +0100
@@ -2818,8 +2818,10 @@ rpmLoadMacroFile(MacroContext mc, const
 	    }
 	    se = rpmMCExpand(mc, s, NULL);
 	    rc = rpmGlob(se, &argc, &argv);
-	    for(i = 0; i < argc; i++)
+	    for(i = 0; i < argc; i++) {
 		rc |= rpmLoadMacroFile(mc, argv[i], nesting - 1);
+		argv[i] = _free(argv[i]);
+	    }
 	    argv = _free(argv);
 	    se = _free(se);
 	    if (rc != 0)
