--- rpm-5.4.18/scripts/rpm2cpio~	2017-07-16 07:42:40.000000000 +0300
+++ rpm-5.4.18/scripts/rpm2cpio	2017-07-18 17:50:00.490906514 +0300
@@ -25,15 +25,15 @@
 EXTRACTOR="dd if=$pkg ibs=$o skip=1"
 
 COMPRESSION=$(($EXTRACTOR |file -) 2>/dev/null)
-if echo $COMPRESSION |grep -q gzip; then
+if echo $COMPRESSION |grep -qi gzip; then
 	DECOMPRESSOR=gunzip
-elif echo $COMPRESSION |grep -q bzip2; then
+elif echo $COMPRESSION |grep -qi bzip2; then
 	DECOMPRESSOR=bunzip2
-elif echo $COMPRESSION |grep -q xz; then
+elif echo $COMPRESSION |grep -qi xz; then
 	DECOMPRESSOR=unxz
-elif echo $COMPRESSION |grep -q zstd; then
+elif echo $COMPRESSION |grep -qi zstd; then
 	DECOMPRESSOR=unxz
-elif echo $COMPRESSION |grep -q cpio; then
+elif echo $COMPRESSION |grep -qi cpio; then
 	DECOMPRESSOR=cat
 else
 	# Most versions of file don't support LZMA, therefore we assume
