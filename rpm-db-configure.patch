--- rpm-4.5/db/dist/Makefile.in~	2008-06-11 10:42:04.000000000 +0300
+++ rpm-4.5/db/dist/Makefile.in	2008-09-04 16:44:51.112521915 +0300
@@ -52,7 +52,7 @@
 # C API.
 ##################################################
 CFLAGS=		-c $(CPPFLAGS) @CFLAGS@
-CC=		@MAKEFILE_CC@
+COMPILE=		@MAKEFILE_CC@
 CCLINK=		@MAKEFILE_CCLINK@ @CFLAGS@
 
 LDFLAGS=	@LDFLAGS@
@@ -831,27 +831,27 @@
 # Multi-threaded testers, benchmarks.
 ##################################################
 dbs@o@: $(srcdir)/test_server/dbs.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 dbs_am@o@: $(srcdir)/test_server/dbs_am.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 dbs_checkpoint@o@: $(srcdir)/test_server/dbs_checkpoint.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 dbs_debug@o@: $(srcdir)/test_server/dbs_debug.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 dbs_handles@o@: $(srcdir)/test_server/dbs_handles.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 dbs_log@o@: $(srcdir)/test_server/dbs_log.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 dbs_qam@o@: $(srcdir)/test_server/dbs_qam.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 dbs_spawn@o@: $(srcdir)/test_server/dbs_spawn.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 dbs_trickle@o@: $(srcdir)/test_server/dbs_trickle.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 dbs_util@o@: $(srcdir)/test_server/dbs_util.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 dbs_yield@o@: $(srcdir)/test_server/dbs_yield.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 DBS_OBJS=\
 	dbs@o@ dbs_am@o@ dbs_checkpoint@o@ dbs_debug@o@ dbs_handles@o@ \
 	dbs_log@o@ dbs_qam@o@ dbs_spawn@o@ dbs_trickle@o@ dbs_util@o@ \
@@ -862,47 +862,47 @@
 	$(POSTLINK) $@
 
 db_perf@o@: $(srcdir)/test_perf/db_perf.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 perf_checkpoint@o@: $(srcdir)/test_perf/perf_checkpoint.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 perf_config@o@: $(srcdir)/test_perf/perf_config.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 perf_dbs@o@: $(srcdir)/test_perf/perf_dbs.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 perf_dead@o@: $(srcdir)/test_perf/perf_dead.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 perf_debug@o@: $(srcdir)/test_perf/perf_debug.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 perf_file@o@: $(srcdir)/test_perf/perf_file.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 perf_key@o@: $(srcdir)/test_perf/perf_key.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 perf_log@o@: $(srcdir)/test_perf/perf_log.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 perf_misc@o@: $(srcdir)/test_perf/perf_misc.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 perf_op@o@: $(srcdir)/test_perf/perf_op.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 perf_parse@o@: $(srcdir)/test_perf/perf_parse.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 perf_rand@o@: $(srcdir)/test_perf/perf_rand.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 perf_spawn@o@: $(srcdir)/test_perf/perf_spawn.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 perf_stat@o@: $(srcdir)/test_perf/perf_stat.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 perf_sync@o@: $(srcdir)/test_perf/perf_sync.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 perf_thread@o@: $(srcdir)/test_perf/perf_thread.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 perf_trickle@o@: $(srcdir)/test_perf/perf_trickle.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 perf_txn@o@: $(srcdir)/test_perf/perf_txn.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 perf_util@o@: $(srcdir)/test_perf/perf_util.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 perf_vx@o@: $(srcdir)/test_perf/perf_vx.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 DBPERF_OBJS=\
 	db_perf@o@ perf_checkpoint@o@ perf_config@o@ perf_dbs@o@ \
 	perf_dead@o@ perf_debug@o@ perf_file@o@ perf_key@o@ perf_log@o@ \
@@ -916,51 +916,51 @@
 	$(POSTLINK) $@
 
 db_reptest@o@: $(srcdir)/test_rep/db_reptest.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 reptest_accept@o@: $(srcdir)/test_rep/reptest_accept.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 reptest_client@o@: $(srcdir)/test_rep/reptest_client.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 reptest_config@o@: $(srcdir)/test_rep/reptest_config.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 reptest_dbs@o@: $(srcdir)/test_rep/reptest_dbs.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 reptest_debug@o@: $(srcdir)/test_rep/reptest_debug.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 reptest_elect@o@: $(srcdir)/test_rep/reptest_elect.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 reptest_env@o@: $(srcdir)/test_rep/reptest_env.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 reptest_exec@o@: $(srcdir)/test_rep/reptest_exec.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 reptest_file@o@: $(srcdir)/test_rep/reptest_file.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 reptest_key@o@: $(srcdir)/test_rep/reptest_key.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 reptest_master@o@: $(srcdir)/test_rep/reptest_master.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 reptest_misc@o@: $(srcdir)/test_rep/reptest_misc.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 reptest_msg_thread@o@: $(srcdir)/test_rep/reptest_msg_thread.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 reptest_op@o@: $(srcdir)/test_rep/reptest_op.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 reptest_parse@o@: $(srcdir)/test_rep/reptest_parse.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 reptest_send@o@: $(srcdir)/test_rep/reptest_send.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 reptest_site@o@: $(srcdir)/test_rep/reptest_site.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 reptest_socket@o@: $(srcdir)/test_rep/reptest_socket.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 reptest_spawn@o@: $(srcdir)/test_rep/reptest_spawn.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 reptest_thread@o@: $(srcdir)/test_rep/reptest_thread.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 reptest_txn@o@: $(srcdir)/test_rep/reptest_txn.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 reptest_util@o@: $(srcdir)/test_rep/reptest_util.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 DBREPTEST_OBJS=\
 	db_reptest@o@ perf_rand@o@ reptest_accept@o@ reptest_client@o@ \
 	reptest_config@o@ reptest_dbs@o@ reptest_debug@o@ \
@@ -977,7 +977,7 @@
 	$(POSTLINK) $@
 
 tm@o@: $(srcdir)/mutex/tm.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 tm: tm@o@ $(DEF_LIB)
 	$(CCLINK) -o $@ $(LDFLAGS) tm@o@ $(DEF_LIB) $(TEST_LIBS) $(LIBS)
 	$(POSTLINK) $@
@@ -986,25 +986,25 @@
 # Example programs for C.
 ##################################################
 bench_001@o@: $(srcdir)/examples_c/bench_001.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 bench_001: bench_001@o@ $(DEF_LIB)
 	$(CCLINK) -o $@ $(LDFLAGS) bench_001@o@ $(DEF_LIB) $(LIBS)
 	$(POSTLINK) $@
 
 ex_access@o@: $(srcdir)/examples_c/ex_access.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 ex_access: ex_access@o@ $(DEF_LIB)
 	$(CCLINK) -o $@ $(LDFLAGS) ex_access@o@ $(DEF_LIB) $(LIBS)
 	$(POSTLINK) $@
 
 ex_apprec@o@: $(srcdir)/examples_c/ex_apprec/ex_apprec.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 ex_apprec_auto@o@: $(srcdir)/examples_c/ex_apprec/ex_apprec_auto.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 ex_apprec_autop@o@: $(srcdir)/examples_c/ex_apprec/ex_apprec_autop.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 ex_apprec_rec@o@: $(srcdir)/examples_c/ex_apprec/ex_apprec_rec.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 EX_APPREC_OBJS=\
 	ex_apprec@o@ ex_apprec_auto@o@ ex_apprec_autop@o@ ex_apprec_rec@o@
 ex_apprec: $(EX_APPREC_OBJS) $(DEF_LIB)
@@ -1012,43 +1012,43 @@
 	    $(LDFLAGS) $(EX_APPREC_OBJS) $(DEF_LIB) $(TEST_LIBS) $(LIBS)
 
 ex_btrec@o@: $(srcdir)/examples_c/ex_btrec.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 ex_btrec: ex_btrec@o@ $(DEF_LIB)
 	$(CCLINK) -o $@ $(LDFLAGS) ex_btrec@o@ $(DEF_LIB) $(LIBS)
 	$(POSTLINK) $@
 
 ex_dbclient@o@: $(srcdir)/examples_c/ex_dbclient.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 ex_dbclient: ex_dbclient@o@ $(DEF_LIB)
 	$(CCLINK) -o $@ $(LDFLAGS) ex_dbclient@o@ $(DEF_LIB) $(LIBS)
 	$(POSTLINK) $@
 
 ex_env@o@: $(srcdir)/examples_c/ex_env.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 ex_env: ex_env@o@ $(DEF_LIB)
 	$(CCLINK) -o $@ $(LDFLAGS) ex_env@o@ $(DEF_LIB) $(LIBS)
 	$(POSTLINK) $@
 
 ex_lock@o@: $(srcdir)/examples_c/ex_lock.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 ex_lock: ex_lock@o@ $(DEF_LIB)
 	$(CCLINK) -o $@ $(LDFLAGS) ex_lock@o@ $(DEF_LIB) $(LIBS)
 	$(POSTLINK) $@
 
 ex_mpool@o@: $(srcdir)/examples_c/ex_mpool.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 ex_mpool: ex_mpool@o@ $(DEF_LIB)
 	$(CCLINK) -o $@ $(LDFLAGS) ex_mpool@o@ $(DEF_LIB) $(LIBS)
 	$(POSTLINK) $@
 
 rep_base@o@: $(srcdir)/examples_c/ex_rep/base/rep_base.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 rep_common@o@: $(srcdir)/examples_c/ex_rep/common/rep_common.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 rep_msg@o@: $(srcdir)/examples_c/ex_rep/base/rep_msg.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 rep_net@o@: $(srcdir)/examples_c/ex_rep/base/rep_net.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 EX_REP_BASE_OBJS=\
 	rep_base@o@ rep_common@o@ rep_msg@o@ rep_net@o@
 ex_rep_base: $(EX_REP_BASE_OBJS) $(DEF_LIB)
@@ -1057,7 +1057,7 @@
 	$(POSTLINK) $@
 
 rep_mgr@o@: $(srcdir)/examples_c/ex_rep/mgr/rep_mgr.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 EX_REP_MGR_OBJS=\
 	rep_common@o@ rep_mgr@o@
 ex_rep_mgr: $(EX_REP_MGR_OBJS) $(DEF_LIB)
@@ -1066,33 +1066,33 @@
 	$(POSTLINK) $@
 
 ex_sequence@o@: $(srcdir)/examples_c/ex_sequence.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 ex_sequence: ex_sequence@o@ $(DEF_LIB)
 	$(CCLINK) -o $@ $(LDFLAGS) ex_sequence@o@ $(DEF_LIB) $(LIBS)
 	$(POSTLINK) $@
 
 ex_thread@o@: $(srcdir)/examples_c/ex_thread.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 ex_thread: ex_thread@o@ $(DEF_LIB)
 	$(CCLINK) -o $@ \
 	    $(LDFLAGS) ex_thread@o@ $(DEF_LIB) $(TEST_LIBS) $(LIBS)
 	$(POSTLINK) $@
 
 ex_tpcb@o@: $(srcdir)/examples_c/ex_tpcb.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 ex_tpcb: ex_tpcb@o@ $(DEF_LIB)
 	$(CCLINK) -o $@ $(LDFLAGS) ex_tpcb@o@ $(DEF_LIB) $(LIBS)
 	$(POSTLINK) $@
 
 gettingstarted_common@o@: \
     $(srcdir)/examples_c/getting_started/gettingstarted_common.c
-	$(CC) -I $(srcdir)/examples_c/getting_started $(CFLAGS) $?
+	$(COMPILE) -I $(srcdir)/examples_c/getting_started $(CFLAGS) $?
 example_database_load@o@: \
     $(srcdir)/examples_c/getting_started/example_database_load.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 example_database_read@o@: \
     $(srcdir)/examples_c/getting_started/example_database_read.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 example_database_load: example_database_load@o@ gettingstarted_common@o@ \
     $(DEF_LIB)
 	$(CCLINK) -o $@ $(LDFLAGS) \
@@ -1105,13 +1105,13 @@
 	$(POSTLINK) $@
 
 txn_guide_inmemory@o@: $(srcdir)/examples_c/txn_guide/txn_guide_inmemory.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 txn_guide_inmemory: txn_guide_inmemory@o@ $(DEF_LIB)
 	$(CCLINK) -o $@ $(LDFLAGS) txn_guide_inmemory@o@ $(DEF_LIB) $(LIBS)
 	$(POSTLINK) $@
 
 txn_guide@o@: $(srcdir)/examples_c/txn_guide/txn_guide.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 txn_guide: txn_guide@o@ $(DEF_LIB)
 	$(CCLINK) -o $@ $(LDFLAGS) txn_guide@o@ $(DEF_LIB) $(LIBS)
 	$(POSTLINK) $@
@@ -1205,479 +1205,479 @@
 # C API build rules.
 ##################################################
 aes_method@o@: $(srcdir)/crypto/aes_method.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 bt_compare@o@: $(srcdir)/btree/bt_compare.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 bt_conv@o@: $(srcdir)/btree/bt_conv.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 bt_curadj@o@: $(srcdir)/btree/bt_curadj.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 bt_cursor@o@: $(srcdir)/btree/bt_cursor.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 bt_delete@o@: $(srcdir)/btree/bt_delete.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 bt_method@o@: $(srcdir)/btree/bt_method.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 bt_open@o@: $(srcdir)/btree/bt_open.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 bt_put@o@: $(srcdir)/btree/bt_put.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 bt_rec@o@: $(srcdir)/btree/bt_rec.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 bt_reclaim@o@: $(srcdir)/btree/bt_reclaim.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 bt_recno@o@: $(srcdir)/btree/bt_recno.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 bt_rsearch@o@: $(srcdir)/btree/bt_rsearch.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 bt_search@o@: $(srcdir)/btree/bt_search.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 bt_split@o@: $(srcdir)/btree/bt_split.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 bt_stat@o@: $(srcdir)/btree/bt_stat.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 bt_compact@o@: $(srcdir)/btree/bt_compact.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 bt_upgrade@o@: $(srcdir)/btree/bt_upgrade.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 bt_verify@o@: $(srcdir)/btree/bt_verify.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 btree_auto@o@: $(srcdir)/btree/btree_auto.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 btree_autop@o@: $(srcdir)/btree/btree_autop.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 crdel_auto@o@: $(srcdir)/db/crdel_auto.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 crdel_autop@o@: $(srcdir)/db/crdel_autop.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 crdel_rec@o@: $(srcdir)/db/crdel_rec.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 crypto@o@: $(srcdir)/crypto/crypto.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 crypto_stub@o@: $(srcdir)/common/crypto_stub.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db185@o@: $(srcdir)/db185/db185.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db@o@: $(srcdir)/db/db.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_am@o@: $(srcdir)/db/db_am.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_auto@o@: $(srcdir)/db/db_auto.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_autop@o@: $(srcdir)/db/db_autop.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_byteorder@o@: $(srcdir)/common/db_byteorder.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_cam@o@: $(srcdir)/db/db_cam.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_cds@o@: $(srcdir)/db/db_cds.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_clock@o@: $(srcdir)/common/db_clock.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_conv@o@: $(srcdir)/db/db_conv.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_dispatch@o@: $(srcdir)/db/db_dispatch.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_dup@o@: $(srcdir)/db/db_dup.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_err@o@: $(srcdir)/common/db_err.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_getlong@o@: $(srcdir)/common/db_getlong.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_idspace@o@: $(srcdir)/common/db_idspace.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_iface@o@: $(srcdir)/db/db_iface.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_join@o@: $(srcdir)/db/db_join.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_log2@o@: $(srcdir)/common/db_log2.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_meta@o@: $(srcdir)/db/db_meta.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_method@o@: $(srcdir)/db/db_method.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_open@o@: $(srcdir)/db/db_open.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_overflow@o@: $(srcdir)/db/db_overflow.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_ovfl_vrfy@o@: $(srcdir)/db/db_ovfl_vrfy.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_pr@o@: $(srcdir)/db/db_pr.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_rec@o@: $(srcdir)/db/db_rec.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_reclaim@o@: $(srcdir)/db/db_reclaim.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_rename@o@: $(srcdir)/db/db_rename.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_remove@o@: $(srcdir)/db/db_remove.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_ret@o@: $(srcdir)/db/db_ret.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_setid@o@: $(srcdir)/db/db_setid.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_setlsn@o@: $(srcdir)/db/db_setlsn.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_salloc@o@: $(srcdir)/env/db_salloc.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_shash@o@: $(srcdir)/env/db_shash.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_stati@o@: $(srcdir)/db/db_stati.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_truncate@o@: $(srcdir)/db/db_truncate.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_upg@o@: $(srcdir)/db/db_upg.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_upg_opd@o@: $(srcdir)/db/db_upg_opd.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_vrfy@o@: $(srcdir)/db/db_vrfy.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_vrfyutil@o@: $(srcdir)/db/db_vrfyutil.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 db_vrfy_stub@o@: $(srcdir)/db/db_vrfy_stub.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 dbm@o@: $(srcdir)/dbm/dbm.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 dbreg@o@: $(srcdir)/dbreg/dbreg.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 dbreg_auto@o@: $(srcdir)/dbreg/dbreg_auto.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 dbreg_autop@o@: $(srcdir)/dbreg/dbreg_autop.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 dbreg_rec@o@: $(srcdir)/dbreg/dbreg_rec.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 dbreg_stat@o@: $(srcdir)/dbreg/dbreg_stat.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 dbreg_util@o@: $(srcdir)/dbreg/dbreg_util.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 env_config@o@: $(srcdir)/env/env_config.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 env_failchk@o@: $(srcdir)/env/env_failchk.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 env_file@o@: $(srcdir)/env/env_file.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 env_method@o@: $(srcdir)/env/env_method.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 env_open@o@: $(srcdir)/env/env_open.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 env_recover@o@: $(srcdir)/env/env_recover.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 env_region@o@: $(srcdir)/env/env_region.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 env_register@o@: $(srcdir)/env/env_register.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 env_stat@o@: $(srcdir)/env/env_stat.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 fileops_auto@o@: $(srcdir)/fileops/fileops_auto.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 fileops_autop@o@: $(srcdir)/fileops/fileops_autop.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 fop_basic@o@: $(srcdir)/fileops/fop_basic.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 fop_rec@o@: $(srcdir)/fileops/fop_rec.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 fop_util@o@: $(srcdir)/fileops/fop_util.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 hash@o@: $(srcdir)/hash/hash.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 hash_auto@o@: $(srcdir)/hash/hash_auto.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 hash_autop@o@: $(srcdir)/hash/hash_autop.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 hash_conv@o@: $(srcdir)/hash/hash_conv.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 hash_dup@o@: $(srcdir)/hash/hash_dup.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 hash_func@o@: $(srcdir)/hash/hash_func.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 hash_meta@o@: $(srcdir)/hash/hash_meta.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 hash_method@o@: $(srcdir)/hash/hash_method.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 hash_open@o@: $(srcdir)/hash/hash_open.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 hash_page@o@: $(srcdir)/hash/hash_page.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 hash_rec@o@: $(srcdir)/hash/hash_rec.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 hash_reclaim@o@: $(srcdir)/hash/hash_reclaim.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 hash_stat@o@: $(srcdir)/hash/hash_stat.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 hash_stub@o@: $(srcdir)/hash/hash_stub.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 hash_upgrade@o@: $(srcdir)/hash/hash_upgrade.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 hash_verify@o@: $(srcdir)/hash/hash_verify.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 hmac@o@: $(srcdir)/hmac/hmac.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 hsearch@o@: $(srcdir)/hsearch/hsearch.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 lock@o@: $(srcdir)/lock/lock.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 lock_deadlock@o@:$(srcdir)/lock/lock_deadlock.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 lock_failchk@o@:$(srcdir)/lock/lock_failchk.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 lock_id@o@:$(srcdir)/lock/lock_id.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 lock_list@o@:$(srcdir)/lock/lock_list.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 lock_method@o@:$(srcdir)/lock/lock_method.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 lock_region@o@:$(srcdir)/lock/lock_region.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 lock_stat@o@:$(srcdir)/lock/lock_stat.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 lock_timer@o@:$(srcdir)/lock/lock_timer.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 lock_util@o@:$(srcdir)/lock/lock_util.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 log@o@: $(srcdir)/log/log.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 log_archive@o@: $(srcdir)/log/log_archive.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 log_compare@o@: $(srcdir)/log/log_compare.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 log_debug@o@: $(srcdir)/log/log_debug.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 log_get@o@: $(srcdir)/log/log_get.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 log_method@o@: $(srcdir)/log/log_method.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 log_put@o@: $(srcdir)/log/log_put.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 log_stat@o@: $(srcdir)/log/log_stat.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mkpath@o@: $(srcdir)/common/mkpath.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mp_alloc@o@: $(srcdir)/mp/mp_alloc.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mp_bh@o@: $(srcdir)/mp/mp_bh.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mp_fget@o@: $(srcdir)/mp/mp_fget.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mp_fmethod@o@: $(srcdir)/mp/mp_fmethod.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mp_fopen@o@: $(srcdir)/mp/mp_fopen.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mp_fput@o@: $(srcdir)/mp/mp_fput.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mp_fset@o@: $(srcdir)/mp/mp_fset.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mp_method@o@: $(srcdir)/mp/mp_method.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mp_mvcc@o@: $(srcdir)/mp/mp_mvcc.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mp_region@o@: $(srcdir)/mp/mp_region.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mp_register@o@: $(srcdir)/mp/mp_register.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mp_stat@o@: $(srcdir)/mp/mp_stat.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mp_sync@o@: $(srcdir)/mp/mp_sync.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mp_trickle@o@: $(srcdir)/mp/mp_trickle.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mt19937db@o@: $(srcdir)/crypto/mersenne/mt19937db.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mut_alloc@o@: $(srcdir)/mutex/mut_alloc.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mut_failchk@o@: $(srcdir)/mutex/mut_failchk.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mut_fcntl@o@: $(srcdir)/mutex/mut_fcntl.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mut_method@o@: $(srcdir)/mutex/mut_method.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mut_pthread@o@: $(srcdir)/mutex/mut_pthread.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mut_region@o@: $(srcdir)/mutex/mut_region.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mut_stat@o@: $(srcdir)/mutex/mut_stat.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mut_tas@o@: $(srcdir)/mutex/mut_tas.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 mut_win32@o@: $(srcdir)/mutex/mut_win32.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_abs@o@: $(srcdir)/@OSDIR@/os_abs.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_alloc@o@: $(srcdir)/os/os_alloc.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_clock@o@: $(srcdir)/@OSDIR@/os_clock.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_config@o@: $(srcdir)/@OSDIR@/os_config.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_dir@o@: $(srcdir)/@OSDIR@/os_dir.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_errno@o@: $(srcdir)/@OSDIR@/os_errno.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_fid@o@: $(srcdir)/@OSDIR@/os_fid.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_flock@o@: $(srcdir)/@OSDIR@/os_flock.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_fsync@o@: $(srcdir)/@OSDIR@/os_fsync.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_fzero@o@: $(srcdir)/os/os_fzero.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_getenv@o@: $(srcdir)/@OSDIR@/os_getenv.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_handle@o@: $(srcdir)/@OSDIR@/os_handle.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_map@o@: $(srcdir)/@OSDIR@/os_map.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_method@o@: $(srcdir)/os/os_method.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_mkdir@o@: $(srcdir)/os/os_mkdir.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_oflags@o@: $(srcdir)/os/os_oflags.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_open@o@: $(srcdir)/@OSDIR@/os_open.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_pid@o@: $(srcdir)/os/os_pid.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_region@o@: $(srcdir)/os/os_region.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_rename@o@: $(srcdir)/@OSDIR@/os_rename.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_root@o@: $(srcdir)/os/os_root.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_rpath@o@: $(srcdir)/os/os_rpath.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_rw@o@: $(srcdir)/@OSDIR@/os_rw.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_seek@o@: $(srcdir)/@OSDIR@/os_seek.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_sleep@o@: $(srcdir)/@OSDIR@/os_sleep.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_spin@o@: $(srcdir)/@OSDIR@/os_spin.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_stat@o@: $(srcdir)/@OSDIR@/os_stat.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_tmpdir@o@: $(srcdir)/os/os_tmpdir.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_truncate@o@: $(srcdir)/@OSDIR@/os_truncate.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_uid@o@: $(srcdir)/os/os_uid.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_unlink@o@: $(srcdir)/os/os_unlink.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 os_yield@o@: $(srcdir)/os/os_yield.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 qam@o@: $(srcdir)/qam/qam.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 qam_auto@o@: $(srcdir)/qam/qam_auto.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 qam_autop@o@: $(srcdir)/qam/qam_autop.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 qam_conv@o@: $(srcdir)/qam/qam_conv.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 qam_files@o@: $(srcdir)/qam/qam_files.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 qam_method@o@: $(srcdir)/qam/qam_method.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 qam_open@o@: $(srcdir)/qam/qam_open.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 qam_rec@o@: $(srcdir)/qam/qam_rec.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 qam_stat@o@: $(srcdir)/qam/qam_stat.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 qam_stub@o@: $(srcdir)/qam/qam_stub.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 qam_upgrade@o@: $(srcdir)/qam/qam_upgrade.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 qam_verify@o@: $(srcdir)/qam/qam_verify.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 rep_auto@o@: $(srcdir)/rep/rep_auto.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 rep_autop@o@: $(srcdir)/rep/rep_autop.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 rep_backup@o@: $(srcdir)/rep/rep_backup.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 rep_elect@o@: $(srcdir)/rep/rep_elect.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 rep_log@o@: $(srcdir)/rep/rep_log.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 rep_method@o@: $(srcdir)/rep/rep_method.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 rep_record@o@: $(srcdir)/rep/rep_record.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 rep_region@o@: $(srcdir)/rep/rep_region.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 rep_stub@o@: $(srcdir)/rep/rep_stub.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 rep_stat@o@: $(srcdir)/rep/rep_stat.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 rep_util@o@: $(srcdir)/rep/rep_util.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 rep_verify@o@: $(srcdir)/rep/rep_verify.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 repmgr_elect@o@: $(srcdir)/repmgr/repmgr_elect.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 repmgr_method@o@: $(srcdir)/repmgr/repmgr_method.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 repmgr_msg@o@: $(srcdir)/repmgr/repmgr_msg.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 repmgr_net@o@: $(srcdir)/repmgr/repmgr_net.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 repmgr_posix@o@: $(srcdir)/repmgr/repmgr_posix.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 repmgr_queue@o@: $(srcdir)/repmgr/repmgr_queue.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 repmgr_sel@o@: $(srcdir)/repmgr/repmgr_sel.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 repmgr_stat@o@: $(srcdir)/repmgr/repmgr_stat.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 repmgr_util@o@: $(srcdir)/repmgr/repmgr_util.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 rijndael-alg-fst@o@: $(srcdir)/crypto/rijndael/rijndael-alg-fst.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 rijndael-api-fst@o@: $(srcdir)/crypto/rijndael/rijndael-api-fst.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 seq_stat@o@: $(srcdir)/sequence/seq_stat.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 sequence@o@: $(srcdir)/sequence/sequence.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 sha1@o@: $(srcdir)/hmac/sha1.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 stat_stub@o@: $(srcdir)/common/stat_stub.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 txn@o@: $(srcdir)/txn/txn.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 txn_auto@o@: $(srcdir)/txn/txn_auto.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 txn_autop@o@: $(srcdir)/txn/txn_autop.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 txn_chkpt@o@: $(srcdir)/txn/txn_chkpt.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 txn_failchk@o@: $(srcdir)/txn/txn_failchk.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 txn_method@o@: $(srcdir)/txn/txn_method.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 txn_rec@o@: $(srcdir)/txn/txn_rec.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 txn_recover@o@: $(srcdir)/txn/txn_recover.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 txn_region@o@: $(srcdir)/txn/txn_region.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 txn_stat@o@: $(srcdir)/txn/txn_stat.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 txn_util@o@: $(srcdir)/txn/txn_util.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 util_cache@o@: $(srcdir)/common/util_cache.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 util_log@o@: $(srcdir)/common/util_log.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 util_sig@o@: $(srcdir)/common/util_sig.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 uts4_cc@o@: $(srcdir)/mutex/uts4_cc.s
 	$(AS) $(ASFLAGS) -o $@ $?
 xa@o@: $(srcdir)/xa/xa.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 xa_db@o@: $(srcdir)/xa/xa_db.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 xa_map@o@: $(srcdir)/xa/xa_map.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 
 ##################################################
 # C++ API build rules.
@@ -1709,62 +1709,62 @@
 # Java API build rules.
 ##################################################
 db_java_wrap@o@: $(srcdir)/libdb_java/db_java_wrap.c
-	$(CC) $(CFLAGS) $(SWIGCFLAGS) $?
+	$(COMPILE) $(CFLAGS) $(SWIGCFLAGS) $?
 
 ##################################################
 # Tcl API build rules.
 ##################################################
 tcl_compat@o@: $(srcdir)/tcl/tcl_compat.c
-	$(CC) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
+	$(COMPILE) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
 tcl_db@o@: $(srcdir)/tcl/tcl_db.c
-	$(CC) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
+	$(COMPILE) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
 tcl_db_pkg@o@: $(srcdir)/tcl/tcl_db_pkg.c
-	$(CC) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
+	$(COMPILE) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
 tcl_dbcursor@o@: $(srcdir)/tcl/tcl_dbcursor.c
-	$(CC) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
+	$(COMPILE) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
 tcl_env@o@: $(srcdir)/tcl/tcl_env.c
-	$(CC) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
+	$(COMPILE) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
 tcl_internal@o@: $(srcdir)/tcl/tcl_internal.c
-	$(CC) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
+	$(COMPILE) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
 tcl_lock@o@: $(srcdir)/tcl/tcl_lock.c
-	$(CC) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
+	$(COMPILE) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
 tcl_log@o@: $(srcdir)/tcl/tcl_log.c
-	$(CC) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
+	$(COMPILE) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
 tcl_mp@o@: $(srcdir)/tcl/tcl_mp.c
-	$(CC) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
+	$(COMPILE) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
 tcl_rep@o@: $(srcdir)/tcl/tcl_rep.c
-	$(CC) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
+	$(COMPILE) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
 tcl_seq@o@: $(srcdir)/tcl/tcl_seq.c
-	$(CC) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
+	$(COMPILE) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
 tcl_txn@o@: $(srcdir)/tcl/tcl_txn.c
-	$(CC) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
+	$(COMPILE) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
 tcl_util@o@: $(srcdir)/tcl/tcl_util.c
-	$(CC) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
+	$(COMPILE) $(CFLAGS) $(TCL_INCLUDE_SPEC) $?
 
 ##################################################
 # RPC build rules.
 ##################################################
 # RPC client files
 client@o@: $(srcdir)/rpc_client/client.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 db_server_clnt@o@: db_server_clnt.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 gen_client@o@: $(srcdir)/rpc_client/gen_client.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 gen_client_ret@o@: $(srcdir)/rpc_client/gen_client_ret.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 
 # RPC server files
 db_server_proc@o@: $(srcdir)/rpc_server/c/db_server_proc.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 db_server_svc@o@: db_server_svc.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 db_server_util@o@: $(srcdir)/rpc_server/c/db_server_util.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 db_server_xdr@o@: db_server_xdr.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 gen_db_server@o@: gen_db_server.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 db_server_cxxproc@o@: $(srcdir)/rpc_server/cxx/db_server_cxxproc.cpp
 	$(CXX) $(CXXFLAGS) $?
 db_server_cxxutil@o@: $(srcdir)/rpc_server/cxx/db_server_cxxutil.cpp
@@ -1774,86 +1774,86 @@
 # Utility build rules.
 ##################################################
 db_archive@o@: $(srcdir)/db_archive/db_archive.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 db_checkpoint@o@: $(srcdir)/db_checkpoint/db_checkpoint.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 db_deadlock@o@: $(srcdir)/db_deadlock/db_deadlock.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 db_dump@o@: $(srcdir)/db_dump/db_dump.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 db_dump185@o@: $(srcdir)/db_dump185/db_dump185.c
-	$(CC) $(DB185INC) $?
+	$(COMPILE) $(DB185INC) $?
 db_hotbackup@o@: $(srcdir)/db_hotbackup/db_hotbackup.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 db_load@o@: $(srcdir)/db_load/db_load.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 db_printlog@o@: $(srcdir)/db_printlog/db_printlog.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 db_recover@o@: $(srcdir)/db_recover/db_recover.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 db_stat@o@: $(srcdir)/db_stat/db_stat.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 db_upgrade@o@: $(srcdir)/db_upgrade/db_upgrade.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 db_verify@o@: $(srcdir)/db_verify/db_verify.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 
 ##################################################
 # C library replacement files.
 ##################################################
 atoi@o@: $(srcdir)/clib/atoi.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 atol@o@: $(srcdir)/clib/atol.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 ctime@o@: $(srcdir)/clib/ctime.c
-	 $(CC) $(CFLAGS) $?
+	 $(COMPILE) $(CFLAGS) $?
 getaddrinfo@o@: $(srcdir)/clib/getaddrinfo.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 getcwd@o@: $(srcdir)/clib/getcwd.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 getopt@o@: $(srcdir)/clib/getopt.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 isalpha@o@: $(srcdir)/clib/isalpha.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 isdigit@o@: $(srcdir)/clib/isdigit.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 isprint@o@: $(srcdir)/clib/isprint.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 isspace@o@: $(srcdir)/clib/isspace.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 memcmp@o@: $(srcdir)/clib/memcmp.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 memcpy@o@: $(srcdir)/clib/memmove.c
-	$(CC) -DMEMCOPY $(CFLAGS) $? -o $@
+	$(COMPILE) -DMEMCOPY $(CFLAGS) $? -o $@
 memmove@o@: $(srcdir)/clib/memmove.c
-	$(CC) -DMEMMOVE $(CFLAGS) $?
+	$(COMPILE) -DMEMMOVE $(CFLAGS) $?
 printf@o@: $(srcdir)/clib/printf.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 raise@o@: $(srcdir)/clib/raise.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 rand@o@: $(srcdir)/clib/rand.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 strcasecmp@o@: $(srcdir)/clib/strcasecmp.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 strdup@o@: $(srcdir)/clib/strdup.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 snprintf@o@: $(srcdir)/clib/snprintf.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 strcat@o@: $(srcdir)/clib/strcat.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 strchr@o@: $(srcdir)/clib/strchr.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 strerror@o@: $(srcdir)/clib/strerror.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 strncat@o@: $(srcdir)/clib/strncat.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 strncmp@o@: $(srcdir)/clib/strncmp.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 strrchr@o@: $(srcdir)/clib/strrchr.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 strsep@o@: $(srcdir)/clib/strsep.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 strtol@o@: $(srcdir)/clib/strtol.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
 strtoul@o@: $(srcdir)/clib/strtoul.c
-	$(CC) $(CFLAGS) $?
+	$(COMPILE) $(CFLAGS) $?
--- rpm-4.5/rpmdb/Makefile.am~	2008-09-04 16:48:01.000000000 +0300
+++ rpm-4.5/rpmdb/Makefile.am	2008-09-04 17:00:08.797533944 +0300
@@ -94,7 +94,7 @@
 
 # XXX grrr, force noinst libdb.la for db3.
 $(libdb_la):
-	sed -e"/^libdir=/s/^.*$$/libdir=''/" < $(top_builddir)/$(WITH_DB_SUBDIR)/libdb-4.7.la > $(libdb_la)
+	sed -e"/^libdir=/s/^.*$$/libdir=''/" < $(top_builddir)/$(WITH_DB_SUBDIR)/libdb-4.5.la > $(libdb_la)
 
 db_archive_SOURCES =
 db_archive_LDADD = \
