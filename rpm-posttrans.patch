--- rpm-4.4.2.2/lib/transaction.c~	2007-12-19 17:32:10.225676468 +0200
+++ rpm-4.4.2.2/lib/transaction.c	2007-12-19 17:35:58.865712817 +0200
@@ -1616,6 +1616,7 @@
 		psm = rpmpsmNew(ts, p, p->fi);
 /*@=compdef =usereleased@*/
 assert(psm != NULL);
+		psm->stepName = "pretrans";
 		psm->scriptTag = RPMTAG_PRETRANS;
 		psm->progTag = RPMTAG_PRETRANSPROG;
 		xx = rpmpsmStage(psm, PSM_SCRIPT);
@@ -2365,6 +2365,7 @@
 		psm = rpmpsmNew(ts, p, p->fi);
 /*@=compdef =usereleased@*/
 assert(psm != NULL);
+		psm->stepName = "posttrans";
 		psm->scriptTag = RPMTAG_POSTTRANS;
 		psm->progTag = RPMTAG_POSTTRANSPROG;
 		xx = rpmpsmStage(psm, PSM_SCRIPT);
